# =============================================================================
# GAINS — Gym App I Never Should've built
# =============================================================================
# Copy this file to .env and adjust the values to your needs:
#   cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# General
# -----------------------------------------------------------------------------
# Port the backend API listens on (inside the container)
PORT=4000

# Allowed CORS origin (your frontend URL)
CORS_ORIGIN=http://localhost:3000

# -----------------------------------------------------------------------------
# Database (MongoDB)
# -----------------------------------------------------------------------------
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=change-me-to-a-strong-password

# MongoDB connection string (uses the credentials above)
MONGO_URI=mongodb://admin:change-me-to-a-strong-password@mongodb:27017/fitness?authSource=admin

# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------
# Auth provider: "local" (default), "keycloak", or "oidc"
# Local mode is the simplest — users register and log in with email/password.
AUTH_PROVIDER=local

# Secret used to sign JWT tokens (required for local and oidc auth)
# Generate a strong random value, e.g.: openssl rand -base64 48
JWT_SECRET=change-me-to-a-random-secret

# Allow new user registrations (recommended for local auth)
ALLOW_REGISTRATION=true

# --- Keycloak (only needed if AUTH_PROVIDER=keycloak) ---
# KEYCLOAK_URL=http://keycloak:8080
# KEYCLOAK_REALM=master
# KEYCLOAK_CLIENT_ID=gains
# KEYCLOAK_PUBLIC_URL=https://auth.example.com

# --- Generic OIDC (only needed if AUTH_PROVIDER=oidc) ---
# Works with Google, GitHub, Authentik, Authelia, and other OIDC providers.
# OIDC_ISSUER_URL=https://accounts.google.com
# OIDC_CLIENT_ID=your-client-id
# OIDC_CLIENT_SECRET=your-client-secret
# OIDC_SCOPES=openid profile email

# -----------------------------------------------------------------------------
# AI Features (Optional)
# -----------------------------------------------------------------------------
# Anthropic API key for natural language workout parsing.
# Without this key, the app works normally but AI-powered parsing is disabled.
# Get your key at: https://console.anthropic.com/
# ANTHROPIC_API_KEY=sk-ant-...

# -----------------------------------------------------------------------------
# Frontend (only needed for Keycloak/OIDC auth modes)
# -----------------------------------------------------------------------------
# VITE_KEYCLOAK_URL=https://auth.example.com
# VITE_KEYCLOAK_REALM=fitness
# VITE_KEYCLOAK_CLIENT_ID=gains
# VITE_API_URL=http://localhost:4000/api
